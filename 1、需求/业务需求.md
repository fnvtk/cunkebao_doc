# 业务需求文档

> 📅 最后更新：2026-01-11
> 📋 版本：v3.0.0
> 🏢 项目：存客宝私域运营管理系统

---

## 一、项目概述

### 1.1 项目背景

随着流量成本不断攀升，私域运营成为企业降本增效的核心战略。**存客宝**是一套面向企业的私域运营自动化系统，通过"AI + 私域"的技术路线，帮助企业实现客户获取、培育、转化的全流程自动化。

### 1.2 产品定位

| 维度 | 说明 |
|------|------|
| **产品名称** | 存客宝 (Cunkebao) |
| **产品类型** | 私域运营 SaaS 平台 |
| **目标用户** | 中小企业私域运营团队、微信营销人员、电商/本地生活商家 |
| **核心价值** | 提升私域流量转化效率，降低人工运营成本 |
| **商业模式** | SaaS 订阅 + 云阿米巴分润模式 |

### 1.3 产品矩阵

```
┌─────────────────────────────────────────────────────────────────┐
│                       存客宝产品矩阵                             │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐             │
│  │   存客宝     │  │   触客宝     │  │  AI数智员工  │             │
│  │  (管理端)    │  │  (客服端)    │  │  (AI助手)   │             │
│  └─────────────┘  └─────────────┘  └─────────────┘             │
│        │                │                │                      │
│        └────────────────┼────────────────┘                      │
│                         │                                       │
│                  ┌──────┴──────┐                                │
│                  │  统一后端服务  │                                │
│                  └─────────────┘                                │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

| 产品 | 定位 | 访问地址 |
|------|------|----------|
| **存客宝** | 管理后台，核心运营功能 | https://kr-op.quwanzhi.com/ |
| **触客宝** | 客服聊天专用界面 | https://kr-kf.quwanzhi.com/ |
| **AI数智员工** | AI辅助应用 | https://kr-phone.quwanzhi.com/ |

---

## 二、用户角色与权限

### 2.1 角色定义

| 角色 | 说明 | 主要功能 |
|------|------|----------|
| **超级管理员** | 系统最高权限 | 全部功能 + 系统配置 + 用户管理 |
| **企业管理员** | 企业级管理 | 企业内所有功能 + 成员管理 |
| **运营主管** | 运营团队负责人 | 内容管理 + 任务配置 + 数据查看 |
| **运营人员** | 日常运营执行 | 内容发布 + 消息推送 + 数据查看 |
| **客服人员** | 客户服务 | 消息查看 + 客户跟进 + 基础操作 |
| **分销商** | 渠道推广 | 分销数据 + 提现申请 |

### 2.2 权限矩阵

| 功能模块 | 超管 | 企管 | 运营主管 | 运营 | 客服 | 分销 |
|----------|------|------|----------|------|------|------|
| 系统配置 | ✅ | ❌ | ❌ | ❌ | ❌ | ❌ |
| 用户管理 | ✅ | ✅ | ❌ | ❌ | ❌ | ❌ |
| 设备管理 | ✅ | ✅ | ✅ | 👁️ | ❌ | ❌ |
| 微信管理 | ✅ | ✅ | ✅ | ✅ | 👁️ | ❌ |
| 内容库 | ✅ | ✅ | ✅ | ✅ | 👁️ | ❌ |
| 工作台 | ✅ | ✅ | ✅ | ✅ | ❌ | ❌ |
| 流量池 | ✅ | ✅ | ✅ | ✅ | 👁️ | ❌ |
| 分销管理 | ✅ | ✅ | ✅ | 👁️ | ❌ | 👁️ |
| 数据中心 | ✅ | ✅ | ✅ | 👁️ | ❌ | 👁️ |

> ✅ 完全权限 | 👁️ 只读权限 | ❌ 无权限

---

## 三、核心功能模块

### 3.1 设备管理

**功能目标**：管理接入系统的手机设备，实现设备的统一监控和任务调度。

#### 功能清单

| 功能 | 优先级 | 状态 | 说明 |
|------|--------|------|------|
| 设备添加 | P0 | ✅ 已上线 | 扫码绑定新设备 |
| 设备列表 | P0 | ✅ 已上线 | 查看所有设备及状态 |
| 设备监控 | P0 | ✅ 已上线 | 实时查看设备在线状态 |
| 设备分组 | P1 | ✅ 已上线 | 按业务线分组管理 |
| 任务配置 | P1 | ✅ 已上线 | 为设备配置自动化任务 |
| 设备重启 | P2 | ✅ 已上线 | 远程重启设备 |
| 设备日志 | P2 | ✅ 已上线 | 查看设备运行日志 |

#### 业务规则

1. 每个设备需要安装私域管理 APP 才能接入
2. 设备离线超过 24 小时自动标记为异常
3. 单设备最多同时登录 1 个微信号

---

### 3.2 微信号管理

**功能目标**：管理设备上登录的微信账号，实现好友、群聊的统一管理。

#### 功能清单

| 功能 | 优先级 | 状态 | 说明 |
|------|--------|------|------|
| 微信列表 | P0 | ✅ 已上线 | 查看所有微信号及状态 |
| 好友管理 | P0 | ✅ 已上线 | 查看/编辑好友信息 |
| 好友转移 | P1 | ✅ 已上线 | 在不同微信号间转移好友 |
| 群聊管理 | P1 | ✅ 已上线 | 管理微信群 |
| 健康分 | P0 | ✅ 已上线 | 微信账号健康度评估 |
| 标签管理 | P1 | ✅ 已上线 | 给好友打标签 |
| 批量操作 | P2 | ✅ 已上线 | 批量打标签、转移等 |

#### 健康分规则

```
健康分 = 基础分(60-100) + 动态分

基础分：
├── 默认基础分：60分
├── 已修改微信号：+10分
└── 好友数量分：+3~12分

动态分：
├── 首次频繁：-15分（暂停24小时）
├── 再次频繁：-25分（暂停24小时）
├── 封号：-60分（暂停72小时）
└── 连续3天不频繁：+5分/天

每日最大加人次数 = 健康分 × 0.2
```

---

### 3.3 内容库

**功能目标**：管理营销内容素材，支持 AI 生成和朋友圈采集。

#### 功能清单

| 功能 | 优先级 | 状态 | 说明 |
|------|--------|------|------|
| 内容创建 | P0 | ✅ 已上线 | 创建图文/视频内容 |
| 内容分类 | P0 | ✅ 已上线 | 按类型分类管理 |
| AI 生成 | P1 | ✅ 已上线 | AI 辅助生成内容 |
| 朋友圈采集 | P1 | ✅ 已上线 | 采集他人朋友圈内容 |
| 内容导入 | P2 | ✅ 已上线 | 批量导入内容 |
| 内容审核 | P2 | 🔄 开发中 | 内容发布前审核 |
| 素材库 | P2 | ✅ 已上线 | 图片/视频素材管理 |

#### 内容类型

| 类型 | 说明 | 支持格式 |
|------|------|----------|
| 图文 | 带图片的文字内容 | 最多9张图 |
| 视频 | 视频内容 | MP4, 最大 100MB |
| 链接 | 外部链接分享 | URL |
| 纯文字 | 纯文本内容 | 最多 2000 字 |

---

### 3.4 工作台（核心）

**功能目标**：核心自动化功能模块，实现私域运营的自动化执行。

#### 功能清单

| 功能 | 优先级 | 状态 | 说明 |
|------|--------|------|------|
| 自动点赞 | P1 | ✅ 已上线 | 自动点赞好友朋友圈 |
| 朋友圈同步 | P0 | ✅ 已上线 | 批量发布朋友圈 |
| 群消息推送 | P0 | ✅ 已上线 | 批量发送群消息 |
| **自动建群** | P0 | ✅ 已上线 | 自动创建微信群 |
| **入群欢迎语** | P1 | ✅ 已上线 | 新成员入群自动发送欢迎语 |
| 消息同步 | P0 | ✅ 已上线 | 实时同步聊天消息 |
| 流量分发 | P0 | ✅ 已上线 | 将流量分配给销售 |
| 通讯录导入 | P2 | ✅ 已上线 | 批量导入通讯录 |

#### 自动建群流程

```
1. 创建建群任务
   ├── 设置群名称模板
   ├── 选择执行设备
   ├── 设置群规模（最小/最大人数）
   └── 设置执行时间
         ↓
2. 选择目标好友
   ├── 从流量池选择
   └── 按标签筛选
         ↓
3. 执行建群
   ├── 系统自动拉群
   ├── 控制建群频率
   └── 记录建群结果
         ↓
4. 发送欢迎语
   ├── 检测新成员入群
   └── 自动发送欢迎消息
```

#### 消息群发规则

```
风控策略：
├── 发送间隔：3-8秒随机
├── 每日上限：200条/微信号
├── 同一好友间隔：60秒
└── 失败重试：最多3次

去重策略：
├── 同一任务不重复发送
└── 记录已发送好友
```

---

### 3.5 流量池管理

**功能目标**：管理私域流量，实现流量的标签化和智能分发。

#### 功能清单

| 功能 | 优先级 | 状态 | 说明 |
|------|--------|------|------|
| 流量标签 | P0 | ✅ 已上线 | 给好友打标签 |
| 流量池 | P0 | ✅ 已上线 | 按标签分组管理流量 |
| 流量分发 | P0 | ✅ 已上线 | 将流量分配给销售 |
| 场景获客 | P0 | ✅ 已上线 | 多场景获取新客户 |
| RFM 评分 | P1 | ✅ 已上线 | 客户价值评分 |
| 客户画像 | P2 | 🔄 开发中 | 客户标签画像 |

#### 流量分发算法

```
分发规则：
├── 时间范围：只在配置时间内分发
├── 配额限制：每客服每日最多 N 个
├── 轮询分配：账号A → 账号B → 账号C → ...
└── 动态剔除：配额满的自动剔除队列
```

#### 场景获客类型

| 场景 | 说明 |
|------|------|
| 海报获客 | 用户扫描海报二维码 |
| 订单获客 | 订单数据导入转化 |
| 电话获客 | 电话号码导入添加 |
| 微信群获客 | 从群聊中获取客户 |

---

### 3.6 分销管理

**功能目标**：管理分销体系，实现渠道推广和收益分成。

#### 功能清单

| 功能 | 优先级 | 状态 | 说明 |
|------|--------|------|------|
| 渠道管理 | P0 | ✅ 已上线 | 管理分销渠道 |
| 佣金设置 | P0 | ✅ 已上线 | 设置分销佣金规则 |
| 提现管理 | P0 | ✅ 已上线 | 处理提现申请 |
| 资金统计 | P1 | ✅ 已上线 | 统计分销资金 |
| 订单追踪 | P1 | ✅ 已上线 | 追踪分销订单 |

#### 分销奖励规则

| 奖励类型 | 触发时机 | 说明 |
|----------|----------|------|
| 获客奖励 | 客户扫码进入 | 按配置金额分佣 |
| 添加好友奖励 | 客户添加微信好友 | 按配置金额分佣 |
| 成交奖励 | 客户下单成交 | 按订单金额比例分佣 |

---

### 3.7 数据中心

**功能目标**：数据分析与可视化，支持业务决策。

#### 功能清单

| 功能 | 优先级 | 状态 | 说明 |
|------|--------|------|------|
| 数据看板 | P0 | ✅ 已上线 | 核心数据可视化 |
| 数据同步 | P1 | ✅ 已上线 | 外部数据源同步 |
| 数据采集 | P1 | ✅ 已上线 | 消费记录采集 |
| 报表导出 | P2 | ✅ 已上线 | 数据报表导出 |

#### 核心指标

| 指标 | 计算方式 | 说明 |
|------|----------|------|
| 好友总数 | SUM(所有微信号好友) | 私域流量规模 |
| 活跃好友数 | 近30天有互动的好友 | 有效流量规模 |
| 消息发送量 | 日/周/月统计 | 触达能力 |
| 转化率 | 成交数/获客数 | 转化效率 |
| 健康分均值 | AVG(所有微信号健康分) | 账号安全状态 |
| RFM 分布 | 各等级客户占比 | 客户价值分布 |

---

## 四、业务流程

### 4.1 私域运营全流程

```
┌─────────────────────────────────────────────────────────────────────┐
│                        私域运营全流程                                │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  ┌─────────────┐     ┌─────────────┐     ┌─────────────┐          │
│  │   获客阶段   │ ──▶ │   养客阶段   │ ──▶ │   转化阶段   │          │
│  └─────────────┘     └─────────────┘     └─────────────┘          │
│        │                   │                   │                   │
│        ▼                   ▼                   ▼                   │
│  ┌─────────────┐     ┌─────────────┐     ┌─────────────┐          │
│  │ 场景获客     │     │ 内容运营     │     │ 消息推送     │          │
│  │ 渠道码       │     │ 朋友圈同步   │     │ 群发消息     │          │
│  │ 流量分发     │     │ 自动点赞     │     │ 一对一跟进   │          │
│  │ 自动建群     │     │ 入群欢迎     │     │ 订单转化     │          │
│  └─────────────┘     └─────────────┘     └─────────────┘          │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

### 4.2 客户生命周期

```
潜在客户 → 新客户 → 活跃客户 → 成交客户 → 复购客户 → 流失客户
    │          │          │          │          │          │
    ▼          ▼          ▼          ▼          ▼          ▼
  获客引流   建立联系   内容培育   促成转化   持续运营   挽回激活
```

---

## 五、非功能需求

### 5.1 性能需求

| 指标 | 要求 |
|------|------|
| 页面加载时间 | < 3秒 |
| API 响应时间 | < 500ms (P95) |
| WebSocket 延迟 | < 100ms |
| 并发用户数 | 支持 1000+ |
| 消息吞吐量 | 10000条/分钟 |

### 5.2 安全需求

| 类型 | 要求 |
|------|------|
| 数据传输 | HTTPS/WSS 加密 |
| 数据存储 | 敏感数据加密存储 |
| 身份认证 | JWT Token + 刷新机制 |
| 权限控制 | RBAC 角色权限模型 |
| 日志审计 | 关键操作日志记录 |

### 5.3 可用性需求

| 指标 | 要求 |
|------|------|
| 系统可用性 | 99.9% |
| 数据备份 | 每日自动备份 |
| 故障恢复 | RTO < 4小时, RPO < 1小时 |

---

## 六、业务约束

### 6.1 微信平台约束

1. **账号风控**：需遵守微信平台规则，避免账号封禁
2. **消息频率**：消息发送需控制频率，避免触发风控
3. **好友上限**：微信好友数量有上限（约5000人）
4. **群聊限制**：群聊人数有上限（500人）

### 6.2 运营约束

1. **设备成本**：需要购买/租赁手机设备
2. **人力成本**：需要运营团队日常维护
3. **合规要求**：需符合《个人信息保护法》等法规

---

## 七、版本规划

### 7.1 已发布版本

| 版本 | 日期 | 主要功能 |
|------|------|----------|
| v1.0.0 | 2025-06 | 基础功能：设备管理、微信管理、内容库 |
| v2.0.0 | 2025-10 | 工作台：朋友圈同步、消息群发、流量分发 |
| v3.0.0 | 2026-01 | 新功能：自动建群、分销管理、入群欢迎语 |

### 7.2 规划中版本

| 版本 | 预计日期 | 规划功能 |
|------|----------|----------|
| v3.1.0 | 2026-02 | AI 智能回复、客户画像 |
| v3.2.0 | 2026-03 | 企业微信接入、数据大屏 |
| v4.0.0 | 2026-06 | 多租户 SaaS 化 |

---

## 八、术语表

| 术语 | 英文 | 说明 |
|------|------|------|
| 私域 | Private Domain | 企业自有的客户流量池 |
| 流量池 | Traffic Pool | 按标签分组的客户集合 |
| 健康分 | Health Score | 微信账号安全评分 |
| RFM | Recency-Frequency-Monetary | 客户价值评分模型 |
| 云阿米巴 | Cloud Amoeba | 分润合作模式 |
| 触达 | Reach | 向客户发送消息 |
| 转化 | Conversion | 客户完成目标行为（如下单） |
