# 我的-内容库前端功能说明

## 一、功能简介
内容库功能用于统一管理和沉淀所有可用于群发、互动、运营的内容素材，实现内容的分组、标签化、批量管理、智能检索和数据分析，提升内容复用和运营效率。

---

## 二、内容库功能流程图

```mermaid
graph TD
    A[内容创建/导入] --> B{内容管理: "分组"/"标签"/"编辑"};
    B --> C[内容库存储];
    C --> D{内容检索/调用};
    D -- "用于群发"/"AI助手" --> E[内容应用];
    E --> F[数据统计与分析];
    F --> B;
```

---

## 三、相关UI图片参考
- "我的"模块主界面（内容库入口）：`../4、前端/UI/我的.png`
- 工作台（内容可分发至此）：`../4、前端/UI/工作台.png`

---

## 四、主要功能模块

### 1. 内容素材列表与分组管理
- 支持展示所有内容素材的基本信息（标题、类型、标签、分组、创建人、状态等）。
- 支持内容分组、批量分组、分组筛选、分组管理。
- 支持内容的搜索、筛选、排序、批量操作。

### 2. 内容标签与分类管理
- 支持内容标签管理、批量打标签、标签筛选、标签分组。
- 支持内容类型分类（文本、图片、视频、链接等）。
- 支持标签自动化规则配置。

### 3. 内容编辑与维护
- 支持内容的新增、编辑、删除、归档、恢复等操作。
- 支持内容的批量导入、导出、批量归档、批量标签。
- 支持内容预览、历史版本管理、内容备注。

### 4. 内容详情与运营操作
- 支持查看内容详细信息（基础信息、标签、历史使用、互动数据等）。
- 支持内容的分组、标签、批量分配、批量推送等运营操作。
- 支持内容归档、移除、导出等操作。

### 5. 数据统计与分析
- 实时统计内容库素材总数、分组分布、标签分布、内容类型分布、使用频率等。
- 支持数据可视化展示（饼图、柱状图、折线图等）。
- 支持导出内容列表及统计数据。
- 主要功能区：统计区块、图表区。

### 6. 权限与安全
- 支持多角色、多账号权限控制。
- 支持操作日志、内容日志查询。
- 内容数据管理过程加密传输，保障数据安全。

---

## 三、前端开发要点

### 1. 页面与功能结构
- 主要页面包括内容素材列表、分组管理、标签管理、内容详情、批量运营等。
- 主要功能区包括内容表格、分组管理、标签管理、批量操作区、统计区块、日志区等。
- **技术栈应用：** 基于 React 构建组件，使用 Shadcn UI 提供基础组件，通过 Tailwind CSS 进行样式和布局设计，遵循原子化 CSS 原则。

### 2. 技术选型与风格指南
- **核心技术栈：** React, TypeScript, Shadcn UI, Tailwind CSS
- **iOS 风格优化：**
    -   **颜色：** 严格遵循 iOS 风格配色方案，特别是灰色系、蓝色主色调和状态色。在 `tailwind.config.js` 中定义并使用定制的颜色变量。
    -   **字体：** 配置字体栈以优先使用系统字体 San Francisco (或相似字体)，精确调整各级文本（标题、正文、标签、按钮）的字号和字重，力求与 iOS 截图一致。
    -   **阴影与圆角：** 模拟 iOS 柔和的阴影效果（如导航栏、卡片），使用 Tailwind 的阴影工具类。精确调整组件（按钮、卡片、输入框）的圆角大小，采用 iOS 偏大的圆角风格。
    -   **布局与间距：** 严格参照原型截图，使用 Tailwind 的 padding, margin, gap 工具类精确控制组件内外边距和元素间距，实现像素级还原。
- **组件库：** 优先使用 Shadcn UI 组件，根据 iOS 风格进行定制和调整。对于复杂或特定 iOS 交互，可能需要基于基础组件进行封装或少量自定义组件。
- **骨架屏：** 数据加载时，使用类似于 Shadcn UI 的 Skeleton 组件展示占位符，提升用户体验。

### 3. 数据流与接口调用
- **数据获取：**
    -   **获取内容列表：** 调用后端 `GET /api/contents` 接口，支持分页、筛选（按分组、标签、类型、状态）、搜索、排序等参数。
        -   请求示例：`GET /api/contents?page=1&pageSize=10&groupId=xxx&tags=a,b&type=image&status=published&search=keyword&sortBy=createdAt&order=desc`
        -   响应示例：包含内容列表、总数、分页信息。
    -   **获取内容详情：** 调用后端 `GET /api/contents/{id}` 接口。
        -   请求示例：`GET /api/contents/123`
        -   响应示例：包含内容所有详细信息、历史使用数据、关联日志等。
    -   **获取分组列表：** 调用后端 `GET /api/content-groups` 接口。
    -   **获取标签列表：** 调用后端 `GET /api/content-tags` 接口。
    -   **获取统计数据：** 调用后端 `GET /api/content-stats` 接口，支持按时间范围、分组、标签等过滤。
- **数据操作：**
    -   **新增内容：** 调用后端 `POST /api/contents` 接口，请求体包含内容数据。
    -   **编辑内容：** 调用后端 `PUT /api/contents/{id}` 接口，请求体包含更新后的内容数据。
    -   **删除内容：** 调用后端 `DELETE /api/contents/{id}` 接口。
    -   **批量操作：** 如批量分组、批量打标签、批量归档、批量删除等，调用相应的后端接口（例如 `POST /api/contents/batch-update`, `POST /api/contents/batch-archive`, `DELETE /api/contents/batch-delete` 等），请求体包含内容ID列表和操作数据。
    -   **导出数据：** 调用后端 `GET /api/contents/export` 接口，支持筛选参数，后端生成并返回文件。
- **数据流处理：**
    -   在 React 组件中，使用状态管理（如 React Context 或 Zustand/Valtio 等轻量状态库）管理页面数据和状态。
    -   使用异步请求库（如 Axios 或 Fetch API）调用后端接口。
    -   在数据加载期间显示 Skeleton 骨架屏。
    -   操作提交时显示 Loading 状态或禁用按钮，操作完成后给予明确的反馈（成功/失败提示）。
    -   错误处理：统一捕获 API 请求错误，向用户显示友好的错误信息。

### 4. 交互细节
- 支持内容的搜索、筛选、排序、分组、标签、批量操作，所有交互均应平滑响应。
- 内容的新增、编辑、归档、批量运营等操作通过模态框 (Modal) 或抽屉 (Drawer) 实现，提供清晰的表单和操作流程。
- 内容状态、使用频率等信息在列表中直观展示，鼠标悬停或点击可查看更多详情。
- 内容详情页通过 Tab 或折叠面板展示基础信息、历史使用、日志等多维度信息。
- 所有表单、弹窗、表格、按钮等遵循 Shadcn UI 和定制的 iOS 风格。
- 数据加载和操作反馈使用 Skeleton 骨架屏和 Loading 状态，提供流畅的过渡体验。
- 路由跳转使用 React Router 等库实现 SPA (Single Page Application) 体验，可考虑添加页面切换动画。
- 权限控制根据后端返回的用户权限数据，动态控制前端元素的显示与隐藏、功能的可用性。
- 表格支持固定表头、列，优化大数据量的展示性能。

### 5. 开发建议
- **组件拆分：** 将复杂页面拆分为更小的、可复用的 React 组件（例如 ContentList, GroupManager, TagManager, ContentDetailModal 等）。
- **状态管理：** 选择合适的状态管理方案，确保数据在组件间高效同步。
- **API 封装：** 统一封装 API 调用逻辑，处理请求、响应、错误和 loading 状态。
- **样式管理：** 充分利用 Tailwind CSS 的优势，保持样式的一致性和可维护性。创建定制的工具类或组件变体来封装 iOS 风格的样式。
- **代码规范：** 遵循 React 和 TypeScript 的最佳实践，保持代码整洁易读。
- **性能优化：** 关注列表渲染性能（如使用虚拟列表）、图片懒加载、减少不必要的重渲染。
- **测试：** 为关键组件和功能编写单元测试和集成测试。
- **文档同步：** 开发过程中，及时更新此文档，特别是接口定义和前端实现细节。

---

> 本文档已结合现有前端代码结构、业务需求和选定技术栈（React, Shadcn UI, Tailwind CSS）进行优化和补充，并纳入了 iOS 风格的开发要点。后续如有功能调整请及时补充。同时，前端接口调用部分需与最新的后端接口文档保持同步。 