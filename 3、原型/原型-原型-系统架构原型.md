# 存客宝系统架构原型

## 一、架构分层原型草图（文字描述）
```
┌──────────────────────────────────────────────┐
|                前端展示层（PC/H5/小程序）     |
|  Next.js/React/Shadcn UI/Tailwind/Skeleton   |
└──────────────────────────────────────────────┘
                │   RESTful API/WebSocket
┌──────────────────────────────────────────────┐
|                后端服务层                    |
|  Java+Spring Boot（主业务）                  |
|  FastAPI（AI/数据处理）                      |
|  业务微服务：客户、线索、设备、内容、标签、分销、红包池、公众号API等 |
|  多租户支持、权限分级、日志审计              |
└──────────────────────────────────────────────┘
                │   API/消息队列
┌──────────────────────────────────────────────┐
|                AI智能服务                    |
|  FastAPI/NLP/ML/标签预测/内容改写/AI内容生成/自动化运营 |
└──────────────────────────────────────────────┘
                │   数据同步/缓存
┌──────────────────────────────────────────────┐
|                数据存储层                    |
|  MySQL（核心业务数据，分库分表）             |
|  HBase/Hive（大数据分析/用户画像/标签）       |
|  Redis（缓存）                               |
└──────────────────────────────────────────────┘
                │   事件驱动/异步解耦
┌──────────────────────────────────────────────┐
|                消息队列/任务调度              |
|  Kafka/RabbitMQ/Quartz/自动化任务/分销返利结算|
└──────────────────────────────────────────────┘
                │   API对接/数据同步
┌──────────────────────────────────────────────┐
|                第三方平台集成                |
|  微信/抖音/小红书/公众号/CRM/ERP/支付/红包API等 |
└──────────────────────────────────────────────┘
```

## 二、主要模块与交互说明
- 前端通过RESTful API与后端服务层通信，部分场景用WebSocket实现实时交互。
- 后端服务层负责业务逻辑、权限校验、任务调度、分销体系、红包池管理、公众号API集成、第三方平台对接。
- AI智能服务通过API/消息队列与主系统解耦，支持线索过滤、内容生成、标签预测、自动化运营、AI内容推送等。
- 数据存储层分为关系型数据库（分库分表）、数据仓库和缓存，支撑高并发和大数据分析。
- 消息队列实现服务间异步解耦、事件驱动、自动化任务、分销返利结算、异步通知等。
- 第三方平台集成支持多渠道获客、内容推送、客户同步、支付/红包、公众号API等。

## 三、扩展性与安全说明
- 微服务架构，支持弹性扩展、故障隔离、灰度发布。
- 全链路加密、权限分级、日志审计、数据脱敏，保障数据安全与合规。
- 支持多租户、分布式部署，便于业务扩展和多业务线运营。
- 自动化任务与AI运营支持灵活配置和扩展。

---
> 本文档为系统架构原型草图，已结合最新需求池优化，后续可结合架构图工具进一步细化。 