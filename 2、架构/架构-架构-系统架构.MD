

# 存客宝系统架构文档

## 一、整体架构概述
存客宝采用分层分布式微服务架构，前后端分离，支持多端接入、弹性扩展和高可用。系统核心由前端展示层、后端服务层、AI智能服务、数据存储层、消息队列、第三方平台集成等组成。

## 二、架构层次结构

### 1. 前端展示层
- **技术栈**：Next.js 15、React 18、Shadcn UI、Tailwind CSS、TypeScript
- **功能**：多端适配（PC/H5）、数据可视化、业务流程操作、权限管理、内容推送等
- **与后端通信**：RESTful API、WebSocket（部分实时场景）

### 2. 后端服务层
- **技术栈**：Java + Spring Boot（主业务）、FastAPI（AI/数据处理）
- **功能**：业务逻辑处理、API网关、权限校验、任务调度、第三方平台对接、日志审计等
- **微服务架构**：各业务模块（客户、线索、设备、内容、标签、用户、统计等）独立部署，支持弹性伸缩

### 3. AI智能服务
- **技术栈**：Python + FastAPI
- **功能**：线索AI过滤、内容AI改写、用户画像补全、标签预测等
- **与主系统通信**：RESTful API/消息队列

### 4. 数据存储层
- **关系型数据库**：MySQL，存储核心业务数据（客户、线索、内容、设备、用户等）
- **大数据仓库**：HBase/Hive，存储用户画像、标签、行为数据等大数据分析需求
- **缓存**：Redis，提升高频数据访问性能

### 5. 消息队列与任务调度
- **Kafka/RabbitMQ**：实现异步解耦、事件驱动、跨服务通信
- **Quartz/Spring Task**：定时任务、自动化流程编排

### 6. 第三方平台集成
- **微信、抖音、小红书、公众号等**：API对接，支持多渠道获客、内容推送、客户同步等
- **企业内部系统**：CRM、ERP等数据同步与集成

### 7. 运维与安全
- **容器化部署**：Docker + Kubernetes，支持弹性伸缩、自动化运维
- **CI/CD**：Jenkins/GitHub Actions，自动化测试与持续交付
- **监控与日志**：Prometheus + Grafana、ELK，系统监控、告警、日志分析
- **安全**：全链路加密、权限分级、数据脱敏、操作审计

## 三、核心模块说明
- **客户与线索管理**：统一存储、标签化、分层、分配、全生命周期管理
- **设备联动与自动加微信**：多设备轮询、加好友、状态监控、结果回传
- **内容库与智能运营**：内容采集、AI改写、多平台推送、矩阵触达
- **AI服务**：线索过滤、内容生成、用户画像、标签预测等
- **数据统计与可视化**：多维度数据分析、可视化看板、报表导出
- **自动化与智能化运营**：线索自动流转、自动分配、自动跟进、自动触达

## 四、数据流转与安全
- 数据从多渠道入口采集，经过AI过滤、业务处理、分配到员工/设备/分组，沉淀到私域客户池
- 全链路数据加密、权限分级、日志审计，保障数据安全与合规
- 支持多租户、分布式部署，便于业务扩展和多业务线运营

## 五、扩展性与高可用
- 微服务架构，支持弹性扩展、故障隔离、灰度发布
- 预留AI能力扩展接口，支持新模型、新算法的快速集成
- 支持多云/混合云部署，适应不同企业IT环境

---

> 本文档为存客宝项目系统架构总览，后续如有新模块或架构调整请及时补充。

